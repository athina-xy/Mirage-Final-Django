{% extends "core/layout.html" %}
{% load static %}

{% block title %}My Profile â€“ Mirage Store{% endblock %}
{% block body_page %}profile{% endblock %}

{% block content %}
    <h1 class="page-title">Profile</h1>
    <p class="page-subtitle">Manage your Mirage Store account and session.</p>

    <div class="row mt-3">
        <div class="col-md-6">
            <div class="card account-box p-3">
                <h2 class="h5 mb-3">Account details</h2>

                <p><strong>Username:</strong> {{ user.username }}</p>
                <p><strong>Email:</strong> {{ user.email|default:"Not set" }}</p>
                <p><strong>Name:</strong>
                    {% if user.first_name or user.last_name %}
                        {{ user.first_name }} {{ user.last_name }}
                    {% else %}
                        Not set
                    {% endif %}
                </p>

                {% if form %}
                    <hr>
                    <form method="post">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <button type="submit" class="btn btn-warning">
                            Save changes
                        </button>
                    </form>
                {% endif %}
            </div>
        </div>

        <div class="col-md-4 offset-md-1 mt-4 mt-md-0">
            <div class="card account-box p-3">
                <p class="small mb-3">
                    Done exploring the Mirage?
                </p>

                <form method="post" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline-light w-100">
                        Logout
                    </button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
