{% extends "core/layout.html" %}

{% block title %}Order {{ order.id }} – Mirage Store{% endblock %}
{% block body_page %}checkout{% endblock %}

{% block content %}
    <h1 class="page-title mb-3">Order Confirmed</h1>

    <p>
        Thank you, {{ order.user.username }}.
        Your order <strong>#{{ order.id }}</strong> has been placed successfully.
    </p>

    <p>
        Total amount: <strong>€{{ order.total_price }}</strong><br>
        Placed on: {{ order.created_at }}
    </p>

    <h2 class="h5 mt-4">Items</h2>
    <ul>
        {% for row in order.items.all %}
            <li>
                {{ row.quantity }} × {{ row.item.label }}
                ({{ row.item.get_rarity_display }}) – €{{ row.price_at_purchase }} each
            </li>
        {% endfor %}
    </ul>

    <div class="mt-4 d-flex gap-2">
        <a href="{% url 'home' %}" class="btn btn-primary">
            Back to Store
        </a>
        {% if user.is_authenticated %}
            <a href="{% url 'dashboard' %}" class="btn btn-outline-light">
                Go to Dashboard
            </a>
        {% endif %}
    </div>
{% endblock %}
